<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP会员专区</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(120deg, #181c2b 0%, #23243a 100%);
            color: #fff;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        .vip-banner {
            background: linear-gradient(90deg, #ffd700 0%, #fffbe6 100%);
            border-radius: 28px;
            box-shadow: 0 8px 32px #ffd70033, 0 2px 16px #0003;
            padding: 2.5rem 2.5rem 2rem 2.5rem;
            margin: 2.5rem auto 2.5rem auto;
            max-width: 1200px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }
        .vip-banner-left {
            display: flex;
            align-items: center;
            gap: 2.2rem;
        }
        .vip-crown-anim {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffd700 60%, #fffbe6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 32px #ffd70088, 0 2px 16px #fffbe655;
            position: relative;
            animation: crownGlow 2.5s infinite alternate;
        }
        .vip-crown-anim::before {
            content: '\f3a5';
            font-family: "bootstrap-icons";
            font-size: 2.8rem;
            color: #b8860b;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            filter: drop-shadow(0 2px 12px #ffd70088);
        }
        @keyframes crownGlow {
            0% { box-shadow: 0 0 32px #ffd70088, 0 2px 16px #fffbe655; }
            100% { box-shadow: 0 0 64px #ffd700cc, 0 4px 32px #fffbe6aa; }
        }
        .vip-banner-title,
        .vip-banner-slogan {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .vip-banner-title {
            font-size: 2.7rem;
            font-weight: 900;
            color: #b8860b;
            letter-spacing: 2px;
            text-shadow: 0 2px 12px #ffd70033;
        }
        .vip-banner-slogan {
            font-size: 1.18rem;
            color: #b8860b;
            margin-top: 0.5rem;
            font-weight: 600;
        }
        .vip-join-btn {
            background: linear-gradient(90deg, #ffd700 60%, #ffb300 100%);
            color: #181c2b;
            font-weight: 800;
            border: none;
            border-radius: 12px;
            padding: 1.1rem 2.5rem;
            font-size: 1.25rem;
            box-shadow: 0 2px 12px #ffd70033;
            text-decoration: none;
            transition: background 0.2s, box-shadow 0.2s;
        }
        .vip-join-btn:hover {
            background: #e6c200;
            color: #181c2b;
            box-shadow: 0 4px 24px #ffd70055;
        }
        .vip-benefits-card {
            background: linear-gradient(90deg, #23243a 0%, #181c2b 100%);
            border-radius: 20px;
            box-shadow: 0 4px 18px #ffd70033;
            padding: 2.5rem 3rem 2rem 3rem;
            border: 2.5px solid #ffd70088;
            margin: 0 auto 2.5rem auto;
            max-width: 1200px;
        }
        @media (min-width: 992px) {
            .vip-benefits-card {
                margin-left: 60px;
            }
        }
        .vip-benefits-title {
            font-size: 1.7rem;
            font-weight: 800;
            color: #ffd700;
            margin-bottom: 1.1rem;
            letter-spacing: 1px;
        }
        .vip-benefits-list {
            color: #fff;
            font-size: 1.13rem;
            line-height: 2.1;
            margin-bottom: 0;
        }
        .vip-profile-card {
            background: linear-gradient(90deg, #23243a 0%, #181c2b 100%);
            border-radius: 22px;
            box-shadow: 0 4px 18px #ffd70033;
            padding: 2.5rem 2.5rem 2rem 2.5rem;
            max-width: 700px;
            margin: 0 auto 2.5rem auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2.5px solid #ffd70088;
            position: relative;
        }
        .vip-avatar-wrap {
            position: relative;
            margin-bottom: 1.2rem;
        }
        .vip-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            background: #fff;
            box-shadow: 0 0 32px #ffd70055, 0 2px 16px #0003;
            border: 5px solid #ffd700;
        }
        .vip-crown {
            position: absolute;
            left: 50%;
            top: -28px;
            transform: translateX(-50%);
            font-size: 2.2rem;
            color: #ffd700;
            filter: drop-shadow(0 2px 12px #ffd70088);
        }
        .vip-profile-name {
            font-size: 1.7rem;
            font-weight: 900;
            color: #ffd700;
            margin-bottom: 0.2rem;
        }
        .vip-profile-level {
            color: #b0b0b0;
            font-size: 1.1rem;
            margin-bottom: 0.7rem;
        }
        .vip-profile-actions {
            display: flex;
            gap: 1.2rem;
            margin-bottom: 0.5rem;
        }
        .vip-action-btn {
            background: #ffd700;
            color: #181c2b;
            font-weight: 700;
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1.3rem;
            font-size: 1.05rem;
            transition: background 0.2s;
            text-decoration: none;
        }
        .vip-action-btn:hover {
            background: #e6c200;
            color: #181c2b;
        }
        .vip-fav-section {
            max-width: 1200px;
            margin: 0 auto 2.5rem auto;
        }
        .vip-fav-title {
            font-size: 1.35rem;
            font-weight: 800;
            color: #ffd700;
            margin-bottom: 1.2rem;
            letter-spacing: 1px;
        }
        .vip-fav-empty {
            text-align: center;
            color: #b0b0b0;
            margin: 2.5rem 0;
        }
        .vip-fav-empty img {
            width: 120px;
            margin-bottom: 1.2rem;
            opacity: 0.7;
        }
        .vip-footer-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin: 3rem 0 2rem 0;
        }
        .vip-footer-link {
            color: #ffd700;
            font-weight: 700;
            font-size: 1.08rem;
            text-decoration: none;
            transition: color 0.2s;
        }
        .vip-footer-link:hover {
            color: #e6c200;
            text-decoration: underline;
        }
        .vip-info-blackgold-name {
            font-weight: 900;
            font-size: 2.3rem;
            color: #ffd700;
            letter-spacing: 1.5px;
            margin-bottom: 0.2rem;
            text-shadow:
                0 2px 4px #000,
                0 0 1px #000;
        }
        .vip-info-blackgold-meta {
            font-size: 1.18rem;
            font-weight: 700;
            color: #ffd700;
            letter-spacing: 1px;
            margin-bottom: 0.1rem;
            text-shadow:
                0 1px 4px #000,
                0 0 1px #000;
        }
        #vipInfoCard {
            background: rgba(24, 28, 43, 0.92);
            border-radius: 16px;
            box-shadow: 0 2px 16px #ffd70033, 0 1px 8px #0008;
            padding: 1.1rem 2.2rem 1rem 2.2rem;
            min-width: 220px;
            max-width: 320px;
            display: none;
            align-items: center;
            gap: 1.5rem;
        }
        .vip-back-link:hover {
            color: #ffd700 !important;
            text-decoration: underline;
        }
        @media (max-width: 600px) {
            html { font-size: 11px; }
            .vip-banner,
            .vip-benefits-card,
            .vip-profile-card,
            .vip-fav-section {
                max-width: 100% !important;
                width: 100% !important;
                margin-left: 0 !important;
                margin-right: 0 !important;
                padding-left: 0.3rem !important;
                padding-right: 0.3rem !important;
            }
            .vip-banner,
            .vip-benefits-card,
            .vip-profile-card {
                border-radius: 12px !important;
                box-shadow: 0 2px 8px #ffd70022 !important;
                padding: 1.2rem 1rem 1rem 1rem !important;
                margin-bottom: 1.2rem !important;
            }
            .vip-benefits-card,
            .vip-profile-card {
                margin-bottom: 1.2rem !important;
            }
            .vip-profile-actions .vip-action-btn {
                font-size: 0.95rem !important;
                padding: 0.4rem 0.8rem !important;
            }
            .vip-info-blackgold-name {
                font-size: 1.3rem !important;
            }
            .vip-info-blackgold-meta {
                font-size: 0.98rem !important;
            }
            .vip-fav-empty {
                margin: 1.5rem 0;
            }
            .vip-banner-title {
                font-size: 1.25rem !important;
                max-width: 90vw;
            }
            .vip-banner-slogan {
                font-size: 0.98rem !important;
                max-width: 90vw;
            }
            .vip-banner {
                flex-direction: column !important;
                align-items: center !important;
                gap: 1rem !important;
                padding: 1.2rem 0.5rem 1rem 0.5rem !important;
            }
            #vipInfoCard {
                width: 100% !important;
                max-width: 350px;
                margin: 0 auto !important;
                position: static !important;
                left: auto !important;
                right: auto !important;
                top: auto !important;
                box-shadow: 0 2px 12px #ffd70033;
                background: #23243a;
                border-radius: 18px;
            }
        }
        /* 移动端专用个人信息卡片样式 */
        .vip-mobile-profile-card {
            width: 92vw;
            max-width: 420px;
            margin: 1.2rem auto 1.5rem auto;
            background: linear-gradient(90deg, #23243a 0%, #181c2b 100%);
            border-radius: 18px;
            box-shadow: 0 2px 12px #ffd70033;
            padding: 1.5rem 1.2rem 1.2rem 1.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid #ffd70055;
            position: relative;
        }
        .vip-mobile-avatar-wrap {
            position: relative;
            margin-bottom: 1rem;
        }
        .vip-mobile-avatar {
            width: 88px;
            height: 88px;
            border-radius: 50%;
            object-fit: cover;
            background: #fff;
            border: 4px solid #ffd700;
            box-shadow: 0 0 16px #ffd70055;
        }
        .vip-mobile-crown {
            position: absolute;
            left: 50%;
            top: -18px;
            transform: translateX(-50%);
            font-size: 1.7rem;
            color: #ffd700;
            filter: drop-shadow(0 2px 8px #ffd70088);
        }
        .vip-mobile-profile-name {
            font-size: 1.25rem;
            font-weight: 800;
            color: #ffd700;
            margin-bottom: 0.2rem;
        }
        .vip-mobile-profile-level,
        .vip-mobile-profile-id {
            color: #b0b0b0;
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }
        .vip-mobile-profile-actions {
            display: flex;
            gap: 1rem;
            margin-top: 0.7rem;
        }
        .vip-mobile-action-btn {
            background: #ffd700;
            color: #181c2b;
            font-weight: 700;
            border: none;
            border-radius: 8px;
            padding: 0.45rem 1.1rem;
            font-size: 1rem;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            transition: background 0.18s;
        }
        .vip-mobile-action-btn:hover {
            background: #e6c200;
            color: #181c2b;
        }
        @media (max-width: 600px) {
            .vip-mobile-profile-card {
                padding: 1.1rem 0.5rem 1rem 0.5rem;
                border-radius: 12px;
            }
            .vip-mobile-avatar {
                width: 66px;
                height: 66px;
            }
            .vip-mobile-profile-name {
                font-size: 1.05rem;
            }
            .vip-mobile-profile-level,
            .vip-mobile-profile-id {
                font-size: 0.92rem;
            }
            .vip-mobile-action-btn {
                font-size: 0.95rem;
                padding: 0.35rem 0.7rem;
            }
        }
    </style>
</head>
<body>
    <!-- 顶部横幅Header（主页同款，宽度与主内容区一致） -->
    <div class="container" style="max-width:1200px;">
        <nav class="navbar navbar-expand-lg navbar-dark mb-0" style="background:linear-gradient(90deg,#181c2b 60%,#23243a 100%);border-radius:0 0 0 0;">
            <div class="d-flex justify-content-between align-items-center w-100">
                <a class="navbar-brand d-flex align-items-center" href="#" style="font-size:1.25rem;font-weight:700;color:#fff;">
                    <i class="bi bi-graph-up me-2" style="font-size:1.3rem;"></i>
                    Tastylive VIP
                </a>
                <div class="d-flex align-items-center" style="gap:1.2rem;">
                    <a href="/" class="vip-back-link d-flex align-items-center ms-3" style="font-size:1.08rem;font-weight:700;color:#fff;text-decoration:none;transition:color 0.18s;">
                        <i class="bi bi-arrow-left me-1" style="font-size:1.15rem;"></i> BANK
                    </a>
                    {% if trader_info %}
                    <a href="/logout" id="vipLogoutBtn" class="vip-logout-link d-flex align-items-center ms-3" style="font-size:1.08rem;font-weight:700;color:#fff;text-decoration:none;transition:color 0.18s;">
                        <i class="bi bi-box-arrow-right me-1" style="font-size:1.15rem;"></i> 退出登录
                    </a>
                    {% endif %}
                </div>
            </div>
        </nav>
    </div>
    <!-- 分割线横跨全屏 -->
    <div style="width:100vw;height:2px;background:linear-gradient(90deg,#ffd700 60%,#fffbe6 100%);margin:0 0 0 0;"></div>
    <div id="vip-main-content">
        <div class="container">
            <!-- 1. 顶部Banner -->
            <div class="vip-banner">
                <div class="vip-banner-left">
                    <div class="vip-crown-anim"></div>
                    <div>
                        <div class="vip-banner-title">VIP会员专区</div>
                        <div class="vip-banner-slogan">尊享特权 · 影响力加持 · 专属身份</div>
                    </div>
                </div>
                {% if trader_info %}
                <!-- 已登录显示VIP信息卡片，内容居中 -->
                <div id="vipInfoCard" style="display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:0.5rem;">
                    <div id="vipInfoName" class="vip-info-blackgold-name">{{ trader_info.trader_name }}</div>
                    <div id="vipInfoLevel" class="vip-info-blackgold-meta">VIP等级：{{ trader_info.professional_title or '至尊会员' }}</div>
                    <div id="vipInfoId" class="vip-info-blackgold-meta">会员编号：{{ trader_info.id or 'VIP20240001' }}</div>
                </div>
                <!-- 移动端专用个人信息卡片，仅在手机端显示 -->
                <!-- 已删除该区域 -->
                {% else %}
                <!-- 未登录显示加入按钮 -->
                <a href="#" class="vip-join-btn" id="vipJoinBtn">立即加入VIP</a>
                {% endif %}
            </div>
            <!-- 2. VIP权益介绍 -->
            <div class="vip-benefits-card">
                <div class="vip-benefits-title"><i class="bi bi-star-fill"></i> VIP尊享权益</div>
                <ul class="vip-benefits-list">
                    <li>专属VIP徽章与身份标识</li>
                    <li>优先展示在各大榜单核心位置</li>
                    <li>上传交易截图，展示真实收益</li>
                    <li>专属客服、优先参与活动</li>
                    <li>更多权益持续解锁中…</li>
                </ul>
            </div>
            <!-- 3. 我的关注/收藏区 -->
            <div class="vip-fav-section">
                <div class="vip-fav-title"><i class="bi bi-star"></i> 我的关注/收藏</div>
                <!-- 空状态 -->
                <div class="vip-fav-empty" style="display:none;">
                    <img src="https://cdn-icons-png.flaticon.com/512/1828/1828884.png" alt="暂无收藏">
                    <div>你还没有收藏任何交易，快去主页添加吧！</div>
                </div>
            </div>
            <!-- 5. FAQ/客服/活动入口 -->
            <div class="vip-footer-links">
                <a href="#" class="vip-footer-link">常见问题</a>
                <a href="#" class="vip-footer-link">专属客服</a>
                <a href="#" class="vip-footer-link">VIP专属活动</a>
            </div>
        </div>
    </div>

    <!-- 登录弹窗（Bootstrap Modal） -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="background:#23243a;color:#fff;border-radius:18px;box-shadow:0 4px 24px #ffd70033;">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="loginModalLabel"><i class="bi bi-person-circle" style="color:#ffd700;"></i> 登录VIP账号</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="vipLoginForm">
              <div class="mb-3">
                <label for="login-username" class="form-label">账号</label>
                <input type="text" class="form-control" id="login-username" placeholder="请输入用户名或邮箱" required>
              </div>
              <div class="mb-3">
                <label for="login-password" class="form-label">密码</label>
                <input type="password" class="form-control" id="login-password" placeholder="请输入密码" required>
              </div>
              <div id="login-error-msg" class="text-danger mb-2" style="display:none;"></div>
              <button type="submit" class="btn btn-warning w-100 fw-bold">登录</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // 1. 让"立即加入VIP"按钮弹出登录框
      document.getElementById('vipJoinBtn').addEventListener('click', function(e) {
        e.preventDefault();
        var loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        loginModal.show();
      });
      // 2. 登录表单提交（前端示例，后端接口需对接）
      document.getElementById('vipLoginForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const username = document.getElementById('login-username').value.trim();
        const password = document.getElementById('login-password').value;
        const errorMsg = document.getElementById('login-error-msg');
        errorMsg.style.display = 'none';
        if (!username || !password) {
          errorMsg.textContent = '请输入账号和密码';
          errorMsg.style.display = 'block';
          return;
        }
        // 发送请求到 Flask 后端 /login
        try {
          const resp = await fetch('/login', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({username, password})
          });
          const data = await resp.json();
          if (data.success) {
            errorMsg.style.display = 'none';
            // 登录成功，刷新页面
            location.reload();
          } else {
            errorMsg.textContent = data.message || '账号或密码错误';
            errorMsg.style.display = 'block';
          }
        } catch (err) {
          errorMsg.textContent = '网络错误，请稍后重试';
          errorMsg.style.display = 'block';
        }
      });
      // 退出登录时清除localStorage登录信息
      document.getElementById('vipLogoutBtn').addEventListener('click', function() {
        localStorage.removeItem('vipUser');
      });
    </script>
</body>
</html> 